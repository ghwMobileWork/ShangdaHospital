"use strict";(self["webpackChunkspringboot_vue_demo"]=self["webpackChunkspringboot_vue_demo"]||[]).push([[61],{6061:function(e,a,t){t.r(a),t.d(a,{default:function(){return k}});var l=t(6252),o=t(3577);const s={style:{padding:"10px"}},i={style:{margin:"10px 0"}},r=(0,l.Uk)("查询"),n=(0,l.Uk)("诊断 "),d=(0,l.Uk)("--\x3e "),u=(0,l.Uk)("删除"),p={style:{margin:"10px 0"}},g={class:"demo-pagination-block"},m=(0,l._)("div",{class:"demonstration"},null,-1),h={class:"dialog-footer"},c=(0,l.Uk)("取消"),f=(0,l.Uk)("确定");function b(e,a,t,b,y,z){const w=(0,l.up)("el-input"),C=(0,l.up)("el-button"),k=(0,l.up)("el-table-column"),S=(0,l.up)("el-popconfirm"),_=(0,l.up)("el-table"),W=(0,l.up)("el-pagination"),V=(0,l.up)("el-form-item"),v=(0,l.up)("el-form"),U=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",i,[(0,l.Wm)(w,{modelValue:y.search,"onUpdate:modelValue":a[0]||(a[0]=e=>y.search=e),placeholder:"请输入关键字",style:{width:"20%"},clearable:""},null,8,["modelValue"]),(0,l.Wm)(C,{type:"primary",style:{"margin-left":"5px"},onClick:z.querry},{default:(0,l.w5)((()=>[r])),_:1},8,["onClick"])]),(0,l.Wm)(_,{data:y.tableData,stripe:"",style:{width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{prop:"id",label:"ID",sortable:""}),(0,l.Wm)(k,{prop:"patientList[0].patientName",label:"病人姓名"}),(0,l.Wm)(k,{prop:"doctorList[0].doctorName",label:"医生姓名"}),(0,l.Wm)(k,{prop:"time",label:"预约时间"}),(0,l.Wm)(k,{prop:"doctorList[0].department",label:"科室"}),(0,l.Wm)(k,{fixed:"right",label:"操作",width:"200"},{default:(0,l.w5)((e=>[(0,l.Wm)(C,{type:"primary",round:"",onClick:a=>z.handleEdit(e.row)},{default:(0,l.w5)((()=>[n])),_:2},1032,["onClick"]),(0,l.Wm)(S,{title:"确定删除吗?",onConfirm:a=>z.handleDelete(e.row.id)},{reference:(0,l.w5)((()=>[(0,l.Wm)(C,{type:"danger",round:""},{default:(0,l.w5)((()=>[u])),_:1})])),default:(0,l.w5)((()=>[d])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),(0,l._)("div",p,[(0,l._)("div",g,[m,(0,l.Wm)(W,{currentPage:y.currentPage,"onUpdate:currentPage":a[1]||(a[1]=e=>y.currentPage=e),"page-size":y.pageSize,"onUpdate:page-size":a[2]||(a[2]=e=>y.pageSize=e),"page-sizes":[5,10,20],small:e.small,disabled:e.disabled,background:e.background,layout:"total, sizes, prev, pager, next, jumper",total:y.total,onSizeChange:z.handleSizeChange,onCurrentChange:z.handleCurrentChange},null,8,["currentPage","page-size","small","disabled","background","total","onSizeChange","onCurrentChange"])])]),(0,l.Wm)(U,{modelValue:y.dialogVisible,"onUpdate:modelValue":a[5]||(a[5]=e=>y.dialogVisible=e),title:"诊断",width:"30%"},{footer:(0,l.w5)((()=>[(0,l._)("span",h,[(0,l.Wm)(C,{onClick:a[4]||(a[4]=e=>y.dialogVisible=!1)},{default:(0,l.w5)((()=>[c])),_:1}),(0,l.Wm)(C,{type:"primary",onClick:z.save},{default:(0,l.w5)((()=>[f])),_:1},8,["onClick"])])])),default:(0,l.w5)((()=>[(0,l.Wm)(v,{model:y.zhenduanform,"label-width":"120px"},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{label:"病人姓名"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(y.zhenduanform.patientList[0].patientName),1)])),_:1}),(0,l.Wm)(V,{label:"诊断结果"},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{type:"textarea",modelValue:y.zhenduanform.result,"onUpdate:modelValue":a[3]||(a[3]=e=>y.zhenduanform.result=e),style:{width:"80%"},rows:"10"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}var y=t(4471),z={name:"Yuyue",components:{},data(){return{form:{},zhenduanform:{},dialogVisible:!1,search:"",currentPage:1,pageSize:10,total:0,tableData:[],doctorList:[]}},created(){this.load()},methods:{load(){var e=parseInt(JSON.parse(sessionStorage.getItem("user")).id.toString());if(console.log("usertype:"+e),1===e)y.Z.get("/yuyue/loadall",{params:{pageNum:this.currentPage,pageSize:this.pageSize}}).then((e=>{console.log(e),this.tableData=e.data.records,this.total=e.data.total}));else{var a=parseInt(JSON.parse(sessionStorage.getItem("user")).id.toString());console.log(a),y.Z.get("/yuyue/loadself",{params:{pageNum:this.currentPage,pageSize:this.pageSize,search:a}}).then((e=>{console.log(e),this.tableData=e.data.records,this.total=e.data.total}))}},querry(){y.Z.get("/yuyue/findbyname",{params:{pageNum:this.currentPage,pageSize:this.pageSize,search:this.search}}).then((e=>{console.log(e),this.tableData=e.data.records,this.total=e.data.total}))},save(){y.Z.put("/yuyue/zhenduan",this.zhenduanform).then((e=>{console.log(e),"0"===e.code?this.$message({type:"success",message:"诊断完成"}):this.$message({type:"error",message:"诊断失败"})})),this.dialogVisible=!1,this.load()},add(){this.dialogVisible=!0,this.form={}},handleEdit(e){this.zhenduanform=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0,console.log(e),this.load()},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.currentPage=e,this.load()},handleDelete(e){console.log(e),y.Z["delete"]("/yuyue/delete/"+e).then((e=>{console.log(e),"0"===e.code?this.$message({type:"success",message:"删除成功"}):this.$message({type:"error",message:"删除失败"}),this.load()}))}}},w=t(3744);const C=(0,w.Z)(z,[["render",b]]);var k=C}}]);
//# sourceMappingURL=61.9379a654.js.map